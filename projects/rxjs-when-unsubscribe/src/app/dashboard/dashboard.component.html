<mat-toolbar color="primary">
  <mat-toolbar-row>
    <span>RxJs. когда нужно отписываться (unsubscribe)</span>
  </mat-toolbar-row>
</mat-toolbar>

<div class="grid-container">


  <h1 class="mat-h1">Демонстрация подписок</h1>

  <p>Этот пример демонстрирует какие методы отписки работают, какие нет на примере interval.</p>

  <p> Запустите компонент, а затем уничтожите и посмотрите, что будет в консоле.
    После уничтожения компонента - интервал продолжит выполняться.</p>

  <div *ngFor="let log of logs">
    <p>{{log}}</p>
  </div>

  <mat-card class="example-card">

    <mat-card-content>

      <div *ngIf="intervalCommon">
        <h2>Отписка по фильтру takeUntil</h2>
        <p>Подписка в шаблоне <span class="active" *ngIf="intervalCommon.status">создана</span>
          <span class="inactive" *ngIf="!intervalCommon.status">отменена</span>.</p>
      </div>

      <div *ngIf="intervalMemoryLeak">
        <h2>Без отписки вообще</h2>
        <p>Подписка в компоненте создана / отменена.</p>
      </div>

      <div *ngIf="intervalTakeWhileMemoryLeak">
        <h2>Без отписки вообще</h2>
        <p>Подписка (без отписки) создана / не отменена.</p>
      </div>

      <div *ngIf="intervalTemplate">
        <p>Подписка с условием takeWhile создана / не отменена.</p>
      </div>


      <app-infinite
        (eventsIntervalCommon)="eventsIntervalCommon($event)"
        (eventsIntervalMemoryLeak)="eventsIntervalMemoryLeak($event)"
        (eventsIntervalTakeWhileMemoryLeak)="eventsIntervalTakeWhileMemoryLeak($event)"
        (eventsIntervalTemplate)="eventsIntervalTemplate($event)"
        *ngIf="componentActive">

      </app-infinite>


    </mat-card-content>

    <mat-card-actions>

      <button (click)="initComponent(true)" mat-raised-button color="primary">Создать компонент</button>
      <button (click)="initComponent(false)" mat-raised-button color="accent">Уничтожить компонент</button>
    </mat-card-actions>
  </mat-card>
  <br>



</div>
